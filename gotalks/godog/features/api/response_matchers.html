
<div class="code">
<pre><code class="go">func (a *apiFeature) theResponseCodeShouldBe(code int) error {
  if code != a.resp.Code {
    return fmt.Errorf("expected response code to be: %d, but actual is: %d", code, a.resp.Code)
  }
  return nil
}

func (a *apiFeature) theResponseShouldMatchJSON(body *gherkin.DocString) (err error) {
  var expected, actual []byte
  var data interface{}
  if err = json.Unmarshal([]byte(body.Content), &data); err != nil {
    return
  }
  if expected, err = json.Marshal(data); err != nil {
    return
  }
  actual = a.resp.Body.Bytes()
  if !bytes.Equal(actual, expected) {
    err = fmt.Errorf("expected json, does not match actual: %s", string(actual))
  }
  return
}</code></pre>

</div>
